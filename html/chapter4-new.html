<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬å››ç«  æ™ºèƒ½ä½“ç»å…¸èŒƒå¼æ„å»º - Hello Agents</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            font-family: 'Inter', sans-serif;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .glass-effect {
            background: rgba(255, 255, 255, 1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        /* æ˜äº®æ¨¡å¼ä¸‹çš„å¯¼èˆªæ æ–‡å­—é¢œè‰² */
        .glass-effect .text-white {
            color: #1f2937 !important;
        }

        .glass-effect .hover\\:text-gray-200:hover {
            color: #4b5563 !important;
        }

        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .code-block {
            background: #2d2d2d;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            overflow-x: auto;
        }

        .paradigm-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 16px;
            padding: 2rem;
            margin: 1rem 0;
        }

        .paradigm-card.react {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .paradigm-card.plan {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        .paradigm-card.reflection {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }

        .timeline-item {
            position: relative;
            padding-left: 2rem;
            border-left: 2px solid #e5e7eb;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -6px;
            top: 0;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #6366f1;
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .scroll-indicator {
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        .dark-mode {
            background: #1a1a1a;
            color: #ffffff;
        }

        .dark-mode .glass-effect {
            background: rgba(17, 24, 39, 1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* æš—è‰²æ¨¡å¼ä¸‹ä¿æŒç™½è‰²æ–‡å­— */
        .dark-mode .glass-effect .text-white {
            color: #ffffff !important;
        }

        .dark-mode .glass-effect .hover\\:text-gray-200:hover {
            color: #e5e7eb !important;
        }

        /* æš—è‰²æ¨¡å¼ä¸‹çš„èƒŒæ™¯å’Œæ–‡æœ¬ */
        .dark-mode .bg-gray-50 {
            background-color: #1a1a1a !important;
        }

        .dark-mode .bg-white {
            background-color: #2d2d2d !important;
        }

        .dark-mode .bg-gray-50 {
            background-color: #374151 !important;
        }

        .dark-mode .text-gray-700 {
            color: #d1d5db !important;
        }

        .dark-mode .text-gray-600 {
            color: #9ca3af !important;
        }

        .dark-mode .text-gray-500 {
            color: #6b7280 !important;
        }

        .dark-mode .text-gray-900 {
            color: #f9fafb !important;
        }

        .dark-mode .text-gray-800 {
            color: #e5e7eb !important;
        }

        /* æš—è‰²æ¨¡å¼ä¸‹çš„å¡ç‰‡å’Œå®¹å™¨ */
        .dark-mode .rounded-xl.shadow-lg {
            background-color: #374151 !important;
            border: 1px solid #4b5563;
        }

        .dark-mode .rounded-lg.shadow-md {
            background-color: #374151 !important;
            border: 1px solid #4b5563;
        }

        .dark-mode .bg-blue-50 {
            background-color: #1e3a8a !important;
        }

        .dark-mode .bg-green-50 {
            background-color: #14532d !important;
        }

        .dark-mode .bg-purple-50 {
            background-color: #581c87 !important;
        }

        .dark-mode .bg-yellow-50 {
            background-color: #92400e !important;
        }

        .dark-mode .bg-gray-100 {
            background-color: #4b5563 !important;
        }

        /* æš—è‰²æ¨¡å¼ä¸‹çš„å…¬å¼èƒŒæ™¯ */
        .dark-mode .formula {
            background: #374151 !important;
            color: #e5e7eb !important;
            border: 1px solid #4b5563;
        }

        /* æš—è‰²æ¨¡å¼ä¸‹çš„è¡¨æ ¼ */
        .dark-mode .comparison-table tr:nth-child(even) {
            background: #374151 !important;
        }

        .dark-mode .comparison-table td {
            border-bottom: 1px solid #4b5563 !important;
            color: #d1d5db !important;
        }

        /* æš—è‰²æ¨¡å¼ä¸‹çš„é¡µè„š */
        .dark-mode .bg-gray-900 {
            background-color: #111827 !important;
        }

        .formula {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            text-align: center;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
        }

        .comparison-table th {
            background: #6366f1;
            color: white;
            padding: 1rem;
            text-align: left;
        }

        .comparison-table td {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .comparison-table tr:nth-child(even) {
            background: #f9fafb;
        }

        .nav-item {
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-item::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: #6366f1;
            transition: width 0.3s ease;
        }

        .nav-item:hover::after {
            width: 100%;
        }

        .progress-bar {
            height: 4px;
            background: #e5e7eb;
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            border-radius: 2px;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50" x-data="chapterApp()">
    <!-- å¯¼èˆªæ  -->
    <nav class="fixed top-0 left-0 right-0 z-50 glass-effect" :class="darkMode ? 'dark-mode' : ''">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="text-white font-bold text-xl">æ™ºèƒ½ä½“æ„å»ºæŒ‡å—</div>
                    <div class="hidden md:flex space-x-6">
                        <a href="#overview" class="nav-item text-white hover:text-gray-200">æ¦‚è¿°</a>
                        <a href="#react" class="nav-item text-white hover:text-gray-200">ReAct</a>
                        <a href="#plan-solve" class="nav-item text-white hover:text-gray-200">Plan-and-Solve</a>
                        <a href="#reflection" class="nav-item text-white hover:text-gray-200">Reflection</a>
                        <a href="#summary" class="nav-item text-white hover:text-gray-200">æ€»ç»“</a>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button @click="toggleDarkMode()" class="text-white hover:text-gray-200">
                        <svg x-show="!darkMode" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                        <svg x-show="darkMode" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹ -->
    <main class="pt-20">
        <!-- ç« èŠ‚æ ‡é¢˜ -->
        <div class="gradient-bg text-white py-12">
            <div class="container mx-auto px-6">
                <h1 class="text-4xl font-bold text-center mb-4">ç¬¬å››ç«  æ™ºèƒ½ä½“ç»å…¸èŒƒå¼æ„å»º</h1>
            </div>
        </div>

        <!-- å¼•è¨€ -->
        <section id="overview" class="py-16 bg-white">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto">
                    <div class="prose prose-lg">
                        <p class="text-gray-700 mb-6">
                            åœ¨ä¸Šä¸€ç« ä¸­ï¼Œæˆ‘ä»¬æ·±å…¥æ¢è®¨äº†ä½œä¸ºç°ä»£æ™ºèƒ½ä½“"å¤§è„‘"çš„å¤§è¯­è¨€æ¨¡å‹ã€‚æˆ‘ä»¬äº†è§£äº†å…¶å†…éƒ¨çš„Transformeræ¶æ„ã€ä¸ä¹‹äº¤äº’çš„æ–¹æ³•ï¼Œä»¥åŠå®ƒçš„èƒ½åŠ›è¾¹ç•Œã€‚ç°åœ¨ï¼Œæ˜¯æ—¶å€™å°†è¿™äº›ç†è®ºçŸ¥è¯†è½¬åŒ–ä¸ºå®è·µï¼Œäº²æ‰‹æ„å»ºæ™ºèƒ½ä½“äº†ã€‚
                        </p>
                        <p class="text-gray-700 mb-6">
                            ä¸€ä¸ªç°ä»£çš„æ™ºèƒ½ä½“ï¼Œå…¶æ ¸å¿ƒèƒ½åŠ›åœ¨äºèƒ½å°†å¤§è¯­è¨€æ¨¡å‹çš„æ¨ç†èƒ½åŠ›ä¸å¤–éƒ¨ä¸–ç•Œè”é€šã€‚å®ƒèƒ½å¤Ÿè‡ªä¸»åœ°ç†è§£ç”¨æˆ·æ„å›¾ã€æ‹†è§£å¤æ‚ä»»åŠ¡ï¼Œå¹¶é€šè¿‡è°ƒç”¨ä»£ç è§£é‡Šå™¨ã€æœç´¢å¼•æ“ã€APIç­‰ä¸€ç³»åˆ—"å·¥å…·"ï¼Œæ¥è·å–ä¿¡æ¯ã€æ‰§è¡Œæ“ä½œï¼Œæœ€ç»ˆè¾¾æˆç›®æ ‡ã€‚ ç„¶è€Œï¼Œæ™ºèƒ½ä½“å¹¶éä¸‡èƒ½ï¼Œå®ƒåŒæ ·é¢ä¸´ç€æ¥è‡ªå¤§æ¨¡å‹æœ¬èº«çš„"å¹»è§‰"é—®é¢˜ã€åœ¨å¤æ‚ä»»åŠ¡ä¸­å¯èƒ½é™·å…¥æ¨ç†å¾ªç¯ã€ä»¥åŠå¯¹å·¥å…·çš„é”™è¯¯ä½¿ç”¨ç­‰æŒ‘æˆ˜ï¼Œè¿™äº›ä¹Ÿæ„æˆäº†æ™ºèƒ½ä½“çš„èƒ½åŠ›è¾¹ç•Œã€‚
                        </p>
                        <p class="text-gray-700 mb-8">
                            ä¸ºäº†æ›´å¥½åœ°ç»„ç»‡æ™ºèƒ½ä½“çš„"æ€è€ƒ"ä¸"è¡ŒåŠ¨"è¿‡ç¨‹ï¼Œä¸šç•Œæ¶Œç°å‡ºäº†å¤šç§ç»å…¸çš„æ¶æ„èŒƒå¼ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†èšç„¦äºå…¶ä¸­æœ€å…·ä»£è¡¨æ€§çš„ä¸‰ç§ï¼Œå¹¶ä¸€æ­¥æ­¥ä»é›¶å®ç°å®ƒä»¬ï¼š
                        </p>
                    </div>

                    <!-- ä¸‰å¤§èŒƒå¼æ¦‚è§ˆå¡ç‰‡ -->
                    <div class="grid md:grid-cols-3 gap-8 mb-12">
                        <div class="paradigm-card react card-hover">
                            <div class="text-2xl font-bold mb-4">ReAct</div>
                            <div class="text-lg mb-4">Reasoning and Acting</div>
                            <p class="text-white/90">
                                å°†"æ€è€ƒ"å’Œ"è¡ŒåŠ¨"ç´§å¯†ç»“åˆçš„èŒƒå¼ï¼Œè®©æ™ºèƒ½ä½“è¾¹æƒ³è¾¹åšï¼ŒåŠ¨æ€è°ƒæ•´ã€‚
                            </p>
                        </div>

                        <div class="paradigm-card plan card-hover">
                            <div class="text-2xl font-bold mb-4">Plan-and-Solve</div>
                            <div class="text-lg mb-4">ä¸‰æ€è€Œåè¡Œ</div>
                            <p class="text-white/90">
                                æ™ºèƒ½ä½“é¦–å…ˆç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„è¡ŒåŠ¨è®¡åˆ’ï¼Œç„¶åä¸¥æ ¼æ‰§è¡Œã€‚
                            </p>
                        </div>

                        <div class="paradigm-card reflection card-hover">
                            <div class="text-2xl font-bold mb-4">Reflection</div>
                            <div class="text-lg mb-4">è‡ªæˆ‘æ‰¹åˆ¤ä¸ä¿®æ­£</div>
                            <p class="text-white/90">
                                é€šè¿‡è‡ªæˆ‘æ‰¹åˆ¤å’Œä¿®æ­£æ¥ä¼˜åŒ–ç»“æœï¼Œæå‡ç­”æ¡ˆè´¨é‡ã€‚
                            </p>
                        </div>
                    </div>

                    <!-- ä¸ºä»€ä¹ˆé‡å¤é€ è½®å­ -->
                    <div class="bg-gray-50 rounded-xl p-8">
                        <h3 class="text-2xl font-bold mb-4">ä¸ºä»€ä¹ˆé‡å¤é€ è½®å­ï¼Ÿ</h3>
                        <div class="space-y-4 text-gray-700">
                            <div class="flex items-start space-x-3">
                                <div class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mt-1">1</div>
                                <div>
                                    <p class="font-semibold mb-1">ç†è§£è®¾è®¡æœºåˆ¶</p>
                                    <p class="text-sm">ç›´æ¥ä½¿ç”¨é«˜åº¦æŠ½è±¡çš„å·¥å…·ï¼Œä¸åˆ©äºäº†è§£èƒŒåçš„è®¾è®¡æœºåˆ¶ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mt-1">2</div>
                                <div>
                                    <p class="font-semibold mb-1">æš´éœ²å·¥ç¨‹æŒ‘æˆ˜</p>
                                    <p class="text-sm">æ¡†æ¶å¤„ç†äº†è®¸å¤šé—®é¢˜ï¼Œäº²æ‰‹å¤„ç†è¿™äº›é—®é¢˜æ˜¯åŸ¹å…»ç³»ç»Ÿè®¾è®¡èƒ½åŠ›çš„æœ€ç›´æ¥æ–¹å¼ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mt-1">3</div>
                                <div>
                                    <p class="font-semibold mb-1">ä»ä½¿ç”¨è€…åˆ°åˆ›é€ è€…</p>
                                    <p class="text-sm">æŒæ¡äº†è®¾è®¡åŸç†ï¼Œä½ å°†æ‹¥æœ‰æ·±åº¦å®šåˆ¶ä¹ƒè‡³ä»é›¶æ„å»ºå…¨æ–°æ™ºèƒ½ä½“çš„èƒ½åŠ›ã€‚</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ç¯å¢ƒå‡†å¤‡ -->
        <section id="environment" class="py-16 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto">
                    <h2 class="text-3xl font-bold mb-8 text-center">4.1 ç¯å¢ƒå‡†å¤‡ä¸åŸºç¡€å·¥å…·å®šä¹‰</h2>

                    <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                        <h3 class="text-2xl font-bold mb-6">å®‰è£…ä¾èµ–åº“</h3>
                        <p class="text-gray-700 mb-6">
                            æœ¬ä¹¦çš„å®æˆ˜éƒ¨åˆ†å°†ä¸»è¦ä½¿ç”¨ Python è¯­è¨€ï¼Œå»ºè®®ä½¿ç”¨ Python 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚é¦–å…ˆï¼Œè¯·ç¡®ä¿ä½ å·²ç»å®‰è£…äº† <code>openai</code> åº“ç”¨äºä¸å¤§è¯­è¨€æ¨¡å‹äº¤äº’ï¼Œä»¥åŠ <code>python-dotenv</code> åº“ç”¨äºå®‰å…¨åœ°ç®¡ç†æˆ‘ä»¬çš„ API å¯†é’¥ã€‚
                        </p>
                        <p class="text-gray-700 mb-4">
                            åœ¨ä½ çš„ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
                        </p>
                        <div class="code-block">
                            <pre><code class="language-bash">pip install openai python-dotenv</code></pre>
                        </div>

                        <h3 class="text-2xl font-bold mb-6 mt-8">é…ç½® API å¯†é’¥</h3>
                        <p class="text-gray-700 mb-6">
                            ä¸ºäº†è®©æˆ‘ä»¬çš„ä»£ç æ›´é€šç”¨ï¼Œæˆ‘ä»¬å°†æ¨¡å‹æœåŠ¡çš„ç›¸å…³ä¿¡æ¯ï¼ˆæ¨¡å‹IDã€APIå¯†é’¥ã€æœåŠ¡åœ°å€ï¼‰ç»Ÿä¸€é…ç½®åœ¨ç¯å¢ƒå˜é‡ä¸­ã€‚
                        </p>
                        <div class="space-y-4 mb-6">
                            <div class="flex items-start space-x-3">
                                <div class="text-purple-600 mt-1">1.</div>
                                <div>
                                    <p class="text-gray-700">åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º <code>.env</code> çš„æ–‡ä»¶ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="text-purple-600 mt-1">2.</div>
                                <div>
                                    <p class="text-gray-700">åœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦ï¼Œå°†å…¶æŒ‡å‘ OpenAI å®˜æ–¹æœåŠ¡ï¼Œæˆ–ä»»ä½•å…¼å®¹ OpenAI æ¥å£çš„æœ¬åœ°/ç¬¬ä¸‰æ–¹æœåŠ¡ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="text-purple-600 mt-1">3.</div>
                                <div>
                                    <p class="text-gray-700">å¦‚æœå®åœ¨ä¸çŸ¥é“å¦‚ä½•è·å–ï¼Œå¯ä»¥å‚è€ƒDatawhaleå¦ä¸€æœ¬æ•™ç¨‹çš„<a href="https://datawhalechina.github.io/handy-multi-agent/#/chapter1/1.2.api-setup" class="text-purple-600 hover:underline">1.2 APIè®¾ç½®</a></p>
                                </div>
                            </div>
                        </div>
                        <div class="code-block">
                            <pre><code class="language-bash"># .env file
LLM_MODEL_ID="YOUR-API-KEY"
LLM_API_KEY="YOUR-URL"
LLM_BASE_URL="YOUR-MODEL"</code></pre>
                        </div>
                        <p class="text-gray-700">æˆ‘ä»¬çš„ä»£ç å°†ä»æ­¤æ–‡ä»¶è‡ªåŠ¨åŠ è½½è¿™äº›é…ç½®ã€‚</p>
                    </div>

                    <!-- LLMå®¢æˆ·ç«¯ä»£ç  -->
                    <div class="bg-white rounded-xl shadow-lg p-8">
                        <h3 class="text-2xl font-bold mb-6">å°è£…åŸºç¡€ LLM è°ƒç”¨å‡½æ•°</h3>
                        <p class="text-gray-700 mb-6">
                            ä¸ºäº†è®©ä»£ç ç»“æ„æ›´æ¸…æ™°ã€æ›´æ˜“äºå¤ç”¨ï¼Œæˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªä¸“å±çš„LLMå®¢æˆ·ç«¯ç±»ã€‚è¿™ä¸ªç±»å°†å°è£…æ‰€æœ‰ä¸æ¨¡å‹æœåŠ¡äº¤äº’çš„ç»†èŠ‚ï¼Œè®©æˆ‘ä»¬çš„ä¸»é€»è¾‘å¯ä»¥æ›´ä¸“æ³¨äºæ™ºèƒ½ä½“çš„æ„å»ºã€‚
                        </p>
                        <div class="code-block">
                            <pre><code class="language-python">import os
from openai import OpenAI
from dotenv import load_dotenv
from typing import List, Dict

# åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡
load_dotenv()

class HelloAgentsLLM:
    """
    ä¸ºæœ¬ä¹¦ "Hello Agents" å®šåˆ¶çš„LLMå®¢æˆ·ç«¯ã€‚
    å®ƒç”¨äºè°ƒç”¨ä»»ä½•å…¼å®¹OpenAIæ¥å£çš„æœåŠ¡ï¼Œå¹¶é»˜è®¤ä½¿ç”¨æµå¼å“åº”ã€‚
    """
    def __init__(self, model: str = None, apiKey: str = None, baseUrl: str = None, timeout: int = None):
        """
        åˆå§‹åŒ–å®¢æˆ·ç«¯ã€‚ä¼˜å…ˆä½¿ç”¨ä¼ å…¥å‚æ•°ï¼Œå¦‚æœæœªæä¾›ï¼Œåˆ™ä»ç¯å¢ƒå˜é‡åŠ è½½ã€‚
        """
        self.model = model or os.getenv("LLM_MODEL_ID")
        apiKey = apiKey or os.getenv("LLM_API_KEY")
        baseUrl = baseUrl or os.getenv("LLM_BASE_URL")
        timeout = timeout or int(os.getenv("LLM_TIMEOUT", 60))

        if not all([self.model, apiKey, baseUrl]):
            raise ValueError("æ¨¡å‹IDã€APIå¯†é’¥å’ŒæœåŠ¡åœ°å€å¿…é¡»è¢«æä¾›æˆ–åœ¨.envæ–‡ä»¶ä¸­å®šä¹‰ã€‚")

        self.client = OpenAI(api_key=apiKey, base_url=baseUrl, timeout=timeout)

    def think(self, messages: List[Dict[str, str]], temperature: float = 0) -> str:
        """
        è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œæ€è€ƒï¼Œå¹¶è¿”å›å…¶å“åº”ã€‚
        """
        print(f"ğŸ§  æ­£åœ¨è°ƒç”¨ {self.model} æ¨¡å‹...")
        try:
            response = self.client.chat.completions.create(
                model=self.model,
                messages=messages,
                temperature=temperature,
                stream=True,
            )

            # å¤„ç†æµå¼å“åº”
            print("âœ… å¤§è¯­è¨€æ¨¡å‹å“åº”æˆåŠŸ:")
            collected_content = []
            for chunk in response:
                content = chunk.choices[0].delta.content or ""
                print(content, end="", flush=True)
                collected_content.append(content)
            print()  # åœ¨æµå¼è¾“å‡ºç»“æŸåæ¢è¡Œ
            return "".join(collected_content)

        except Exception as e:
            print(f"âŒ è°ƒç”¨LLM APIæ—¶å‘ç”Ÿé”™è¯¯: {e}")
            return None

# --- å®¢æˆ·ç«¯ä½¿ç”¨ç¤ºä¾‹ ---
if __name__ == '__main__':
    try:
        llmClient = HelloAgentsLLM()

        exampleMessages = [
            {"role": "system", "content": "You are a helpful assistant that writes Python code."},
            {"role": "user", "content": "å†™ä¸€ä¸ªå¿«é€Ÿæ’åºç®—æ³•"}
        ]

        print("--- è°ƒç”¨LLM ---")
        responseText = llmClient.think(exampleMessages)
        if responseText:
            print("\n\n--- å®Œæ•´æ¨¡å‹å“åº” ---")
            print(responseText)

    except ValueError as e:
        print(e)</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ReAct èŒƒå¼ -->
        <section id="react" class="py-16 bg-white">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto">
                    <h2 class="text-3xl font-bold mb-8 text-center">4.2 ReAct</h2>

                    <div class="mb-12">
                        <p class="text-lg text-gray-700 mb-6">
                            åœ¨å‡†å¤‡å¥½LLMå®¢æˆ·ç«¯åï¼Œæˆ‘ä»¬å°†æ„å»ºç¬¬ä¸€ä¸ªï¼Œä¹Ÿæ˜¯æœ€ç»å…¸çš„ä¸€ä¸ªæ™ºèƒ½ä½“èŒƒå¼<strong>ReAct (Reason + Act)</strong>ã€‚ReActç”±Shunyu Yaoäº2022å¹´æå‡º<sup>[1]</sup>ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯æ¨¡ä»¿äººç±»è§£å†³é—®é¢˜çš„æ–¹å¼ï¼Œå°†<strong>æ¨ç† (Reasoning)</strong> ä¸<strong>è¡ŒåŠ¨ (Acting)</strong> æ˜¾å¼åœ°ç»“åˆèµ·æ¥ï¼Œå½¢æˆä¸€ä¸ª"æ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿ"çš„å¾ªç¯ã€‚
                        </p>
                    </div>

                    <!-- ReAct å·¥ä½œåŸç† -->
                    <div class="bg-blue-50 rounded-xl p-8 mb-8">
                        <h3 class="text-2xl font-bold mb-6">4.2.1 ReAct çš„å·¥ä½œæµç¨‹</h3>
                        <div class="space-y-6">
                            <div>
                                <p class="text-gray-700 mb-4">
                                    åœ¨ReActè¯ç”Ÿä¹‹å‰ï¼Œä¸»æµçš„æ–¹æ³•å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šä¸€ç±»æ˜¯"çº¯æ€è€ƒ"å‹ï¼Œå¦‚<strong>æ€ç»´é“¾ (Chain-of-Thought)</strong>ï¼Œå®ƒèƒ½å¼•å¯¼æ¨¡å‹è¿›è¡Œå¤æ‚çš„é€»è¾‘æ¨ç†ï¼Œä½†æ— æ³•ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’ï¼Œå®¹æ˜“äº§ç”Ÿäº‹å®å¹»è§‰ï¼›å¦ä¸€ç±»æ˜¯"çº¯è¡ŒåŠ¨"å‹ï¼Œæ¨¡å‹ç›´æ¥è¾“å‡ºè¦æ‰§è¡Œçš„åŠ¨ä½œï¼Œä½†ç¼ºä¹è§„åˆ’å’Œçº é”™èƒ½åŠ›ã€‚
                                </p>
                                <p class="text-gray-700 mb-4">
                                    ReActçš„å·§å¦™ä¹‹å¤„åœ¨äºï¼Œå®ƒè®¤è¯†åˆ°<strong>æ€è€ƒä¸è¡ŒåŠ¨æ˜¯ç›¸è¾…ç›¸æˆçš„</strong>ã€‚æ€è€ƒæŒ‡å¯¼è¡ŒåŠ¨ï¼Œè€Œè¡ŒåŠ¨çš„ç»“æœåˆåè¿‡æ¥ä¿®æ­£æ€è€ƒã€‚ä¸ºæ­¤ï¼ŒReActèŒƒå¼é€šè¿‡ä¸€ç§ç‰¹æ®Šçš„æç¤ºå·¥ç¨‹æ¥å¼•å¯¼æ¨¡å‹ï¼Œä½¿å…¶æ¯ä¸€æ­¥çš„è¾“å‡ºéƒ½éµå¾ªä¸€ä¸ªå›ºå®šçš„è½¨è¿¹ï¼š
                                </p>
                            </div>

                            <div class="grid md:grid-cols-3 gap-6 mb-6">
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <div class="text-blue-600 text-2xl mb-4 text-center">ğŸ§ </div>
                                    <h4 class="font-bold mb-2 text-center">Thought (æ€è€ƒ)</h4>
                                    <p class="text-gray-600 text-sm text-center">
                                        æ™ºèƒ½ä½“çš„"å†…å¿ƒç‹¬ç™½"ï¼Œåˆ†æå½“å‰æƒ…å†µã€åˆ†è§£ä»»åŠ¡ã€åˆ¶å®šä¸‹ä¸€æ­¥è®¡åˆ’ï¼Œæˆ–åæ€ä¸Šä¸€æ­¥çš„ç»“æœ
                                    </p>
                                </div>
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <div class="text-green-600 text-2xl mb-4 text-center">âš¡</div>
                                    <h4 class="font-bold mb-2 text-center">Action (è¡ŒåŠ¨)</h4>
                                    <p class="text-gray-600 text-sm text-center">
                                        æ™ºèƒ½ä½“å†³å®šé‡‡å–çš„å…·ä½“åŠ¨ä½œï¼Œé€šå¸¸æ˜¯è°ƒç”¨ä¸€ä¸ªå¤–éƒ¨å·¥å…·ï¼Œä¾‹å¦‚ <code>Search['åä¸ºæœ€æ–°æ¬¾æ‰‹æœº']</code>
                                    </p>
                                </div>
                                <div class="bg-white rounded-lg shadow-md p-6">
                                    <div class="text-purple-600 text-2xl mb-4 text-center">ğŸ‘ï¸</div>
                                    <h4 class="font-bold mb-2 text-center">Observation (è§‚å¯Ÿ)</h4>
                                    <p class="text-gray-600 text-sm text-center">
                                        æ‰§è¡Œ<code>Action</code>åä»å¤–éƒ¨å·¥å…·è¿”å›çš„ç»“æœï¼Œä¾‹å¦‚æœç´¢ç»“æœçš„æ‘˜è¦æˆ–APIçš„è¿”å›å€¼
                                    </p>
                                </div>
                            </div>

                            <p class="text-gray-700 mb-6">
                                æ™ºèƒ½ä½“å°†ä¸æ–­é‡å¤è¿™ä¸ª <strong>Thought -> Action -> Observation</strong> çš„å¾ªç¯ï¼Œå°†æ–°çš„è§‚å¯Ÿç»“æœè¿½åŠ åˆ°å†å²è®°å½•ä¸­ï¼Œå½¢æˆä¸€ä¸ªä¸æ–­å¢é•¿çš„ä¸Šä¸‹æ–‡ï¼Œç›´åˆ°å®ƒåœ¨<code>Thought</code>ä¸­è®¤ä¸ºå·²ç»æ‰¾åˆ°äº†æœ€ç»ˆç­”æ¡ˆï¼Œç„¶åè¾“å‡ºç»“æœã€‚è¿™ä¸ªè¿‡ç¨‹å½¢æˆäº†ä¸€ä¸ªå¼ºå¤§çš„ååŒæ•ˆåº”ï¼š<strong>æ¨ç†ä½¿å¾—è¡ŒåŠ¨æ›´å…·ç›®çš„æ€§ï¼Œè€Œè¡ŒåŠ¨åˆ™ä¸ºæ¨ç†æä¾›äº†äº‹å®ä¾æ®ã€‚</strong>
                            </p>
                        </div>
                    </div>

                    <!-- æ•°å­¦å…¬å¼ -->
                    <div class="bg-gray-50 rounded-xl p-8 mb-8">
                        <h4 class="text-xl font-bold mb-4">å½¢å¼åŒ–è¡¨è¾¾</h4>
                        <p class="text-gray-700 mb-4">
                            æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªè¿‡ç¨‹å½¢å¼åŒ–åœ°è¡¨è¾¾å‡ºæ¥ã€‚å…·ä½“æ¥è¯´ï¼Œåœ¨æ¯ä¸ªæ—¶é—´æ­¥ $t$ï¼Œæ™ºèƒ½ä½“çš„ç­–ç•¥ï¼ˆå³å¤§è¯­è¨€æ¨¡å‹ $\pi$ï¼‰ä¼šæ ¹æ®åˆå§‹é—®é¢˜ $q$ å’Œä¹‹å‰æ‰€æœ‰æ­¥éª¤çš„"è¡ŒåŠ¨-è§‚å¯Ÿ"å†å²è½¨è¿¹ $((a_1,o_1),\dots,(a_{t-1},o_{t-1}))$ï¼Œæ¥ç”Ÿæˆå½“å‰çš„æ€è€ƒ $th_t$ å’Œè¡ŒåŠ¨ $a_t$ï¼š
                        </p>
                        <div class="formula">
                            $$\left(th_t,a_t\right)=\pi\left(q,(a_1,o_1),\ldots,(a_{t-1},o_{t-1})\right)$$
                        </div>
                        <p class="text-gray-700 mb-4 mt-4">
                            éšåï¼Œç¯å¢ƒä¸­çš„å·¥å…· $T$ ä¼šæ‰§è¡Œè¡ŒåŠ¨ $a_t$ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„è§‚å¯Ÿç»“æœ $o_t$ï¼š
                        </p>
                        <div class="formula">
                            $$o_t = T(a_t)$$
                        </div>
                        <p class="text-gray-700 mb-4 mt-4">
                            è¿™ä¸ªå¾ªç¯ä¸æ–­è¿›è¡Œï¼Œå°†æ–°çš„ $(a_t,o_t)$ å¯¹è¿½åŠ åˆ°å†å²ä¸­ï¼Œç›´åˆ°æ¨¡å‹åœ¨æ€è€ƒ $th_t$ ä¸­åˆ¤æ–­ä»»åŠ¡å·²å®Œæˆã€‚
                        </p>
                    </div>

                    <!-- ReAct å›¾ç‰‡ -->
                    <div class="text-center mb-12">
                        <img src="../docs/images/4-figures/01.png" alt="ReActèŒƒå¼ä¸­çš„"æ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿ"ååŒå¾ªç¯" class="mx-auto rounded-lg shadow-lg max-w-full">
                        <p class="text-gray-600 mt-4">å›¾ 4.1 ReAct èŒƒå¼ä¸­çš„"æ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿ"ååŒå¾ªç¯</p>
                    </div>

                    <!-- é€‚ç”¨åœºæ™¯ -->
                    <div class="bg-gray-50 rounded-xl p-8 mb-8">
                        <h4 class="text-xl font-bold mb-4">é€‚ç”¨åœºæ™¯</h4>
                        <p class="text-gray-700 mb-6">è¿™ç§æœºåˆ¶ç‰¹åˆ«é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
                        <div class="grid md:grid-cols-3 gap-6">
                            <div class="bg-white rounded-lg shadow-md p-6 card-hover">
                                <div class="text-blue-600 text-2xl mb-4 text-center">ğŸŒ</div>
                                <h4 class="font-bold mb-2 text-center">éœ€è¦å¤–éƒ¨çŸ¥è¯†çš„ä»»åŠ¡</h4>
                                <p class="text-gray-600 text-sm text-center">
                                    å¦‚æŸ¥è¯¢å®æ—¶ä¿¡æ¯ï¼ˆå¤©æ°”ã€æ–°é—»ã€è‚¡ä»·ï¼‰ã€æœç´¢ä¸“ä¸šé¢†åŸŸçš„çŸ¥è¯†ç­‰
                                </p>
                            </div>
                            <div class="bg-white rounded-lg shadow-md p-6 card-hover">
                                <div class="text-green-600 text-2xl mb-4 text-center">ğŸ§®</div>
                                <h4 class="font-bold mb-2 text-center">éœ€è¦ç²¾ç¡®è®¡ç®—çš„ä»»åŠ¡</h4>
                                <p class="text-gray-600 text-sm text-center">
                                    å°†æ•°å­¦é—®é¢˜äº¤ç»™è®¡ç®—å™¨å·¥å…·ï¼Œé¿å…LLMçš„è®¡ç®—é”™è¯¯
                                </p>
                            </div>
                            <div class="bg-white rounded-lg shadow-md p-6 card-hover">
                                <div class="text-purple-600 text-2xl mb-4 text-center">ğŸ”Œ</div>
                                <h4 class="font-bold mb-2 text-center">éœ€è¦ä¸APIäº¤äº’çš„ä»»åŠ¡</h4>
                                <p class="text-gray-600 text-sm text-center">
                                    å¦‚æ“ä½œæ•°æ®åº“ã€è°ƒç”¨æŸä¸ªæœåŠ¡çš„APIæ¥å®Œæˆç‰¹å®šåŠŸèƒ½
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- å·¥å…·çš„å®šä¹‰ä¸å®ç° -->
                    <div class="bg-gray-50 rounded-xl p-8">
                        <h3 class="text-2xl font-bold mb-6">4.2.2 å·¥å…·çš„å®šä¹‰ä¸å®ç°</h3>
                        <p class="text-gray-700 mb-6">
                            å¦‚æœè¯´å¤§è¯­è¨€æ¨¡å‹æ˜¯æ™ºèƒ½ä½“çš„å¤§è„‘ï¼Œé‚£ä¹ˆ<strong>å·¥å…· (Tools)</strong> å°±æ˜¯å…¶ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’çš„"æ‰‹å’Œè„š"ã€‚ä¸ºäº†è®©ReActèŒƒå¼èƒ½å¤ŸçœŸæ­£è§£å†³æˆ‘ä»¬è®¾å®šçš„é—®é¢˜ï¼Œæ™ºèƒ½ä½“éœ€è¦å…·å¤‡è°ƒç”¨å¤–éƒ¨å·¥å…·çš„èƒ½åŠ›ã€‚
                        </p>

                        <div class="mb-8">
                            <p class="text-gray-700 mb-4">
                                é’ˆå¯¹æœ¬èŠ‚è®¾å®šçš„ç›®æ ‡â€”â€”å›ç­”å…³äº"åä¸ºæœ€æ–°æ‰‹æœº"çš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæ™ºèƒ½ä½“æä¾›ä¸€ä¸ªç½‘é¡µæœç´¢å·¥å…·ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬é€‰ç”¨ <strong>SerpApi</strong>ï¼Œå®ƒé€šè¿‡APIæä¾›ç»“æ„åŒ–çš„Googleæœç´¢ç»“æœï¼Œèƒ½ç›´æ¥è¿”å›"ç­”æ¡ˆæ‘˜è¦æ¡†"æˆ–ç²¾ç¡®çš„çŸ¥è¯†å›¾è°±ä¿¡æ¯ã€‚
                            </p>
                            <p class="text-gray-700 mb-4">é¦–å…ˆï¼Œéœ€è¦å®‰è£…è¯¥åº“ï¼š</p>
                            <div class="code-block">
                                <pre><code class="language-bash">pip install google-search-results</code></pre>
                            </div>
                        </div>

                        <div class="mb-8">
                            <h4 class="text-xl font-bold mb-4">å·¥å…·å®ç°</h4>
                            <div class="code-block">
                                <pre><code class="language-python">from serpapi import SerpApiClient

def search(query: str) -> str:
    """
    ä¸€ä¸ªåŸºäºSerpApiçš„å®æˆ˜ç½‘é¡µæœç´¢å¼•æ“å·¥å…·ã€‚
    å®ƒä¼šæ™ºèƒ½åœ°è§£ææœç´¢ç»“æœï¼Œä¼˜å…ˆè¿”å›ç›´æ¥ç­”æ¡ˆæˆ–çŸ¥è¯†å›¾è°±ä¿¡æ¯ã€‚
    """
    print(f"ğŸ” æ­£åœ¨æ‰§è¡Œ [SerpApi] ç½‘é¡µæœç´¢: {query}")
    try:
        api_key = os.getenv("SERPAPI_API_KEY")
        if not api_key:
            return "é”™è¯¯ï¼šSERPAPI_API_KEY æœªåœ¨ .env æ–‡ä»¶ä¸­é…ç½®ã€‚"

        params = {
            "engine": "google",
            "q": query,
            "api_key": api_key,
            "gl": "cn",  # å›½å®¶ä»£ç 
            "hl": "zh-cn", # è¯­è¨€ä»£ç 
        }

        client = SerpApiClient(params)
        results = client.get_dict()

        # æ™ºèƒ½è§£æï¼šä¼˜å…ˆå¯»æ‰¾æœ€ç›´æ¥çš„ç­”æ¡ˆ
        if "answer_box_list" in results:
            return "\n".join(results["answer_box_list"])
        if "answer_box" in results and "answer" in results["answer_box"]:
            return results["answer_box"]["answer"]
        if "knowledge_graph" in results and "description" in results["knowledge_graph"]:
            return results["knowledge_graph"]["description"]
        if "organic_results" in results and results["organic_results"]:
            # å¦‚æœæ²¡æœ‰ç›´æ¥ç­”æ¡ˆï¼Œåˆ™è¿”å›å‰ä¸‰ä¸ªæœ‰æœºç»“æœçš„æ‘˜è¦
            snippets = [
                f"[{i+1}] {res.get('title', '')}\n{res.get('snippet', '')}"
                for i, res in enumerate(results["organic_results"][:3])
            ]
            return "\n\n".join(snippets)

        return f"å¯¹ä¸èµ·ï¼Œæ²¡æœ‰æ‰¾åˆ°å…³äº '{query}' çš„ä¿¡æ¯ã€‚"

    except Exception as e:
        return f"æœç´¢æ—¶å‘ç”Ÿé”™è¯¯: {e}"</code></pre>
                            </div>
                        </div>

                        <div class="mb-8">
                            <h4 class="text-xl font-bold mb-4">å·¥å…·æ‰§è¡Œå™¨</h4>
                            <div class="code-block">
                                <pre><code class="language-python">from typing import Dict, Any

class ToolExecutor:
    """
    ä¸€ä¸ªå·¥å…·æ‰§è¡Œå™¨ï¼Œè´Ÿè´£ç®¡ç†å’Œæ‰§è¡Œå·¥å…·ã€‚
    """
    def __init__(self):
        self.tools: Dict[str, Dict[str, Any]] = {}

    def registerTool(self, name: str, description: str, func: callable):
        """
        å‘å·¥å…·ç®±ä¸­æ³¨å†Œä¸€ä¸ªæ–°å·¥å…·ã€‚
        """
        if name in self.tools:
            print(f"è­¦å‘Šï¼šå·¥å…· '{name}' å·²å­˜åœ¨ï¼Œå°†è¢«è¦†ç›–ã€‚")
        self.tools[name] = {"description": description, "func": func}
        print(f"å·¥å…· '{name}' å·²æ³¨å†Œã€‚")

    def getTool(self, name: str) -> callable:
        """
        æ ¹æ®åç§°è·å–ä¸€ä¸ªå·¥å…·çš„æ‰§è¡Œå‡½æ•°ã€‚
        """
        return self.tools.get(name, {}).get("func")

    def getAvailableTools(self) -> str:
        """
        è·å–æ‰€æœ‰å¯ç”¨å·¥å…·çš„æ ¼å¼åŒ–æè¿°å­—ç¬¦ä¸²ã€‚
        """
        return "\n".join([
            f"- {name}: {info['description']}"
            for name, info in self.tools.items()
        ])</code></pre>
                            </div>
                        </div>

                        <div>
                            <h4 class="text-xl font-bold mb-4">æµ‹è¯•</h4>
                            <div class="code-block">
                                <pre><code class="language-python"># --- å·¥å…·åˆå§‹åŒ–ä¸ä½¿ç”¨ç¤ºä¾‹ ---
if __name__ == '__main__':
    # 1. åˆå§‹åŒ–å·¥å…·æ‰§è¡Œå™¨
    toolExecutor = ToolExecutor()

    # 2. æ³¨å†Œæˆ‘ä»¬çš„å®æˆ˜æœç´¢å·¥å…·
    search_description = "ä¸€ä¸ªç½‘é¡µæœç´¢å¼•æ“ã€‚å½“ä½ éœ€è¦å›ç­”å…³äºæ—¶äº‹ã€äº‹å®ä»¥åŠåœ¨ä½ çš„çŸ¥è¯†åº“ä¸­æ‰¾ä¸åˆ°çš„ä¿¡æ¯æ—¶ï¼Œåº”ä½¿ç”¨æ­¤å·¥å…·ã€‚"
    toolExecutor.registerTool("Search", search_description, search)

    # 3. æ‰“å°å¯ç”¨çš„å·¥å…·
    print("\n--- å¯ç”¨çš„å·¥å…· ---")
    print(toolExecutor.getAvailableTools())

    # 4. æ™ºèƒ½ä½“çš„Actionè°ƒç”¨
    print("\n--- æ‰§è¡Œ Action: Search['è‹±ä¼Ÿè¾¾æœ€æ–°çš„GPUå‹å·æ˜¯ä»€ä¹ˆ'] ---")
    tool_name = "Search"
    tool_input = "è‹±ä¼Ÿè¾¾æœ€æ–°çš„GPUå‹å·æ˜¯ä»€ä¹ˆ"

    tool_function = toolExecutor.getTool(tool_name)
    if tool_function:
        observation = tool_function(tool_input)
        print("--- è§‚å¯Ÿ (Observation) ---")
        print(observation)
    else:
        print(f"é”™è¯¯ï¼šæœªæ‰¾åˆ°åä¸º '{tool_name}' çš„å·¥å…·ã€‚")</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Plan-and-Solve èŒƒå¼ -->
        <section id="plan-solve" class="py-16 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto">
                    <h2 class="text-3xl font-bold mb-8 text-center">4.3 Plan-and-Solve</h2>

                    <div class="mb-12">
                        <p class="text-lg text-gray-700 mb-6">
                            åœ¨æˆ‘ä»¬æŒæ¡äº† ReAct è¿™ç§ååº”å¼çš„ã€æ­¥è¿›å†³ç­–çš„æ™ºèƒ½ä½“èŒƒå¼åï¼Œæ¥ä¸‹æ¥å°†æ¢è®¨ä¸€ç§é£æ ¼è¿¥å¼‚ä½†åŒæ ·å¼ºå¤§çš„æ–¹æ³•ï¼Œ<strong>Plan-and-Solve</strong>ã€‚é¡¾åæ€ä¹‰ï¼Œè¿™ç§èŒƒå¼å°†ä»»åŠ¡å¤„ç†æ˜ç¡®åœ°åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š<strong>å…ˆè§„åˆ’ (Plan)ï¼Œåæ‰§è¡Œ (Solve)</strong>ã€‚
                        </p>
                        <p class="text-lg text-gray-700 mb-6">
                            å¦‚æœè¯´ ReAct åƒä¸€ä¸ªç»éªŒä¸°å¯Œçš„ä¾¦æ¢ï¼Œæ ¹æ®ç°åœºçš„è››ä¸é©¬è¿¹ï¼ˆObservationï¼‰ä¸€æ­¥æ­¥æ¨ç†ï¼Œéšæ—¶è°ƒæ•´è‡ªå·±çš„è°ƒæŸ¥æ–¹å‘ï¼›é‚£ä¹ˆ Plan-and-Solve åˆ™æ›´åƒä¸€ä½å»ºç­‘å¸ˆï¼Œåœ¨åŠ¨å·¥ä¹‹å‰å¿…é¡»å…ˆç»˜åˆ¶å‡ºå®Œæ•´çš„è“å›¾ï¼ˆPlanï¼‰ï¼Œç„¶åä¸¥æ ¼æŒ‰ç…§è“å›¾æ¥æ–½å·¥ï¼ˆSolveï¼‰ã€‚äº‹å®ä¸Šæˆ‘ä»¬ç°åœ¨ç”¨çš„å¾ˆå¤šå¤§æ¨¡å‹å·¥å…·çš„Agentæ¨¡å¼éƒ½èå…¥äº†è¿™ç§è®¾è®¡æ¨¡å¼ã€‚
                        </p>
                    </div>

                    <!-- Plan-and-Solve å·¥ä½œåŸç† -->
                    <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                        <h3 class="text-2xl font-bold mb-6">4.3.1 Plan-and-Solve çš„å·¥ä½œåŸç†</h3>
                        <div class="space-y-6">
                            <div>
                                <p class="text-gray-700 mb-4">
                                    Plan-and-Solve Prompting ç”± Lei Wang åœ¨2023å¹´æå‡º<sup>[2]</sup>ã€‚å…¶æ ¸å¿ƒåŠ¨æœºæ˜¯ä¸ºäº†è§£å†³æ€ç»´é“¾åœ¨å¤„ç†å¤šæ­¥éª¤ã€å¤æ‚é—®é¢˜æ—¶å®¹æ˜“"åç¦»è½¨é“"çš„é—®é¢˜ã€‚
                                </p>
                                <p class="text-gray-700 mb-6">
                                    ä¸ ReAct å°†æ€è€ƒå’Œè¡ŒåŠ¨èåˆåœ¨æ¯ä¸€æ­¥ä¸åŒï¼ŒPlan-and-Solve å°†æ•´ä¸ªæµç¨‹è§£è€¦ä¸ºä¸¤ä¸ªæ ¸å¿ƒé˜¶æ®µï¼š
                                </p>
                            </div>

                            <div class="grid md:grid-cols-2 gap-8">
                                <div class="bg-green-50 rounded-lg p-6">
                                    <div class="text-green-600 text-3xl mb-4 text-center">ğŸ“‹</div>
                                    <h4 class="font-bold mb-4 text-center">è§„åˆ’é˜¶æ®µ (Planning Phase)</h4>
                                    <p class="text-gray-700 text-center">
                                        é¦–å…ˆï¼Œæ™ºèƒ½ä½“ä¼šæ¥æ”¶ç”¨æˆ·çš„å®Œæ•´é—®é¢˜ã€‚å®ƒçš„ç¬¬ä¸€ä¸ªä»»åŠ¡ä¸æ˜¯ç›´æ¥å»è§£å†³é—®é¢˜æˆ–è°ƒç”¨å·¥å…·ï¼Œè€Œæ˜¯<strong>å°†é—®é¢˜åˆ†è§£ï¼Œå¹¶åˆ¶å®šå‡ºä¸€ä¸ªæ¸…æ™°ã€åˆ†æ­¥éª¤çš„è¡ŒåŠ¨è®¡åˆ’</strong>ã€‚è¿™ä¸ªè®¡åˆ’æœ¬èº«å°±æ˜¯ä¸€æ¬¡å¤§è¯­è¨€æ¨¡å‹çš„è°ƒç”¨äº§ç‰©ã€‚
                                    </p>
                                </div>
                                <div class="bg-blue-50 rounded-lg p-6">
                                    <div class="text-blue-600 text-3xl mb-4 text-center">ğŸš€</div>
                                    <h4 class="font-bold mb-4 text-center">æ‰§è¡Œé˜¶æ®µ (Solving Phase)</h4>
                                    <p class="text-gray-700 text-center">
                                        åœ¨è·å¾—å®Œæ•´çš„è®¡åˆ’åï¼Œæ™ºèƒ½ä½“è¿›å…¥æ‰§è¡Œé˜¶æ®µã€‚å®ƒä¼š<strong>ä¸¥æ ¼æŒ‰ç…§è®¡åˆ’ä¸­çš„æ­¥éª¤ï¼Œé€ä¸€æ‰§è¡Œ</strong>ã€‚æ¯ä¸€æ­¥çš„æ‰§è¡Œéƒ½å¯èƒ½æ˜¯ä¸€æ¬¡ç‹¬ç«‹çš„ LLM è°ƒç”¨ï¼Œæˆ–è€…æ˜¯å¯¹ä¸Šä¸€æ­¥ç»“æœçš„åŠ å·¥å¤„ç†ï¼Œç›´åˆ°è®¡åˆ’ä¸­çš„æ‰€æœ‰æ­¥éª¤éƒ½å®Œæˆï¼Œæœ€ç»ˆå¾—å‡ºç­”æ¡ˆã€‚
                                    </p>
                                </div>
                            </div>

                            <p class="text-gray-700 mb-6">
                                è¿™ç§"å…ˆè°‹ååŠ¨"çš„ç­–ç•¥ï¼Œä½¿å¾—æ™ºèƒ½ä½“åœ¨å¤„ç†éœ€è¦é•¿è¿œè§„åˆ’çš„å¤æ‚ä»»åŠ¡æ—¶ï¼Œèƒ½å¤Ÿä¿æŒæ›´é«˜çš„ç›®æ ‡ä¸€è‡´æ€§ï¼Œé¿å…åœ¨ä¸­é—´æ­¥éª¤ä¸­è¿·å¤±æ–¹å‘ã€‚
                            </p>
                        </div>
                    </div>

                    <!-- æ•°å­¦å…¬å¼ -->
                    <div class="bg-gray-50 rounded-xl p-8 mb-8">
                        <h4 class="text-xl font-bold mb-4">å½¢å¼åŒ–è¡¨è¾¾</h4>
                        <p class="text-gray-700 mb-4">
                            æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªä¸¤é˜¶æ®µè¿‡ç¨‹è¿›è¡Œå½¢å¼åŒ–è¡¨è¾¾ã€‚é¦–å…ˆï¼Œè§„åˆ’æ¨¡å‹ $\pi_{\text{plan}}$ æ ¹æ®åŸå§‹é—®é¢˜ $q$ ç”Ÿæˆä¸€ä¸ªåŒ…å« $n$ ä¸ªæ­¥éª¤çš„è®¡åˆ’ $P = (p_1, p_2, \dots, p_n)$ï¼š
                        </p>
                        <div class="formula">
                            $$P = \pi_{\text{plan}}(q)$$
                        </div>
                        <p class="text-gray-700 mb-4 mt-4">
                            éšåï¼Œåœ¨æ‰§è¡Œé˜¶æ®µï¼Œæ‰§è¡Œæ¨¡å‹ $\pi_{\text{solve}}$ ä¼šé€ä¸€å®Œæˆè®¡åˆ’ä¸­çš„æ­¥éª¤ã€‚å¯¹äºç¬¬ $i$ ä¸ªæ­¥éª¤ï¼Œå…¶è§£å†³æ–¹æ¡ˆ $s_i$ çš„ç”Ÿæˆä¼šåŒæ—¶ä¾èµ–äºåŸå§‹é—®é¢˜ $q$ã€å®Œæ•´è®¡åˆ’ $P$ ä»¥åŠä¹‹å‰æ‰€æœ‰æ­¥éª¤çš„æ‰§è¡Œç»“æœ $(s_1, \dots, s_{i-1})$ï¼š
                        </p>
                        <div class="formula">
                            $$s_i = \pi_{\text{solve}}(q, P, (s_1, \dots, s_{i-1}))$$
                        </div>
                        <p class="text-gray-700 mb-4 mt-4">
                            æœ€ç»ˆçš„ç­”æ¡ˆå°±æ˜¯æœ€åä¸€ä¸ªæ­¥éª¤çš„æ‰§è¡Œç»“æœ $s_n$ã€‚
                        </p>
                    </div>

                    <!-- Plan-and-Solve å›¾ç‰‡ -->
                    <div class="text-center mb-12">
                        <img src="../docs/images/4-figures/02.png" alt="Plan-and-SolveèŒƒå¼çš„ä¸¤é˜¶æ®µå·¥ä½œæµ" class="mx-auto rounded-lg shadow-lg max-w-full">
                        <p class="text-gray-600 mt-4">å›¾ 4.2 Plan-and-Solve èŒƒå¼çš„ä¸¤é˜¶æ®µå·¥ä½œæµ</p>
                    </div>

                    <!-- é€‚ç”¨åœºæ™¯ -->
                    <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                        <h4 class="text-xl font-bold mb-4">é€‚ç”¨åœºæ™¯</h4>
                        <p class="text-gray-700 mb-6">Plan-and-Solve å°¤å…¶é€‚ç”¨äºé‚£äº›ç»“æ„æ€§å¼ºã€å¯ä»¥è¢«æ¸…æ™°åˆ†è§£çš„å¤æ‚ä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š</p>
                        <div class="grid md:grid-cols-3 gap-6">
                            <div class="bg-gray-50 rounded-lg p-6 text-center">
                                <div class="text-3xl mb-4">ğŸ“Š</div>
                                <h4 class="font-bold mb-2">å¤šæ­¥æ•°å­¦åº”ç”¨é¢˜</h4>
                                <p class="text-gray-600 text-sm">
                                    éœ€è¦å…ˆåˆ—å‡ºè®¡ç®—æ­¥éª¤ï¼Œå†é€ä¸€æ±‚è§£
                                </p>
                            </div>
                            <div class="bg-gray-50 rounded-lg p-6 text-center">
                                <div class="text-3xl mb-4">ğŸ“</div>
                                <h4 class="font-bold mb-2">æŠ¥å‘Šæ’°å†™</h4>
                                <p class="text-gray-600 text-sm">
                                    éœ€è¦å…ˆè§„åˆ’å¥½æŠ¥å‘Šç»“æ„ï¼Œå†é€ä¸€å¡«å……å†…å®¹
                                </p>
                            </div>
                            <div class="bg-gray-50 rounded-lg p-6 text-center">
                                <div class="text-3xl mb-4">ğŸ’»</div>
                                <h4 class="font-bold mb-2">ä»£ç ç”Ÿæˆ</h4>
                                <p class="text-gray-600 text-sm">
                                    éœ€è¦å…ˆæ„æ€å¥½ç»“æ„ï¼Œå†é€ä¸€å®ç°
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- è§„åˆ’é˜¶æ®µ -->
                    <div class="bg-white rounded-xl shadow-lg p-8">
                        <h3 class="text-2xl font-bold mb-6">4.3.2 è§„åˆ’é˜¶æ®µ</h3>
                        <p class="text-gray-700 mb-6">
                            ä¸ºäº†å‡¸æ˜¾ Plan-and-Solve èŒƒå¼åœ¨ç»“æ„åŒ–æ¨ç†ä»»åŠ¡ä¸Šçš„ä¼˜åŠ¿ï¼Œæˆ‘ä»¬å°†ä¸ä½¿ç”¨å·¥å…·çš„æ–¹å¼ï¼Œè€Œæ˜¯é€šè¿‡æç¤ºè¯çš„è®¾è®¡ï¼Œå®Œæˆä¸€ä¸ªæ¨ç†ä»»åŠ¡ã€‚
                        </p>
                        <p class="text-gray-700 mb-6">
                            è¿™ç±»ä»»åŠ¡çš„ç‰¹ç‚¹æ˜¯ï¼Œç­”æ¡ˆæ— æ³•é€šè¿‡å•æ¬¡æŸ¥è¯¢æˆ–è®¡ç®—å¾—å‡ºï¼Œå¿…é¡»å…ˆå°†é—®é¢˜åˆ†è§£ä¸ºä¸€ç³»åˆ—é€»è¾‘è¿è´¯çš„å­æ­¥éª¤ï¼Œç„¶åæŒ‰é¡ºåºæ±‚è§£ã€‚è¿™æ°å¥½èƒ½å‘æŒ¥ Plan-and-Solve "å…ˆè§„åˆ’ï¼Œåæ‰§è¡Œ"çš„æ ¸å¿ƒèƒ½åŠ›ã€‚
                        </p>

                        <div class="bg-yellow-50 rounded-lg p-6 mb-8">
                            <h4 class="font-bold mb-2 text-yellow-800">ç›®æ ‡é—®é¢˜</h4>
                            <p class="text-gray-700">
                                "ä¸€ä¸ªæ°´æœåº—å‘¨ä¸€å–å‡ºäº†15ä¸ªè‹¹æœã€‚å‘¨äºŒå–å‡ºçš„è‹¹æœæ•°é‡æ˜¯å‘¨ä¸€çš„ä¸¤å€ã€‚å‘¨ä¸‰å–å‡ºçš„æ•°é‡æ¯”å‘¨äºŒå°‘äº†5ä¸ªã€‚è¯·é—®è¿™ä¸‰å¤©æ€»å…±å–å‡ºäº†å¤šå°‘ä¸ªè‹¹æœï¼Ÿ"
                            </p>
                        </div>

                        <p class="text-gray-700 mb-6">
                            è¿™ä¸ªé—®é¢˜å¯¹äºå¤§è¯­è¨€æ¨¡å‹æ¥è¯´å¹¶ä¸ç®—ç‰¹åˆ«å›°éš¾ï¼Œä½†å®ƒåŒ…å«äº†ä¸€ä¸ªæ¸…æ™°çš„é€»è¾‘é“¾æ¡å¯ä¾›å‚è€ƒã€‚åœ¨æŸäº›å®é™…çš„é€»è¾‘éš¾é¢˜ä¸Šï¼Œå¦‚æœå¤§æ¨¡å‹ä¸èƒ½é«˜è´¨é‡çš„æ¨ç†å‡ºå‡†ç¡®çš„ç­”æ¡ˆï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªè®¾è®¡æ¨¡å¼æ¥è®¾è®¡è‡ªå·±çš„Agentå®Œæˆä»»åŠ¡ã€‚æ™ºèƒ½ä½“éœ€è¦ï¼š
                        </p>

                        <div class="space-y-4 mb-8">
                            <div class="flex items-start space-x-3">
                                <div class="bg-green-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mt-1">1</div>
                                <div>
                                    <p class="font-semibold"><strong>è§„åˆ’é˜¶æ®µ</strong></p>
                                    <p class="text-gray-600 text-sm">é¦–å…ˆï¼Œå°†é—®é¢˜åˆ†è§£ä¸ºä¸‰ä¸ªç‹¬ç«‹çš„è®¡ç®—æ­¥éª¤ï¼ˆè®¡ç®—å‘¨äºŒé”€é‡ã€è®¡ç®—å‘¨ä¸‰é”€é‡ã€è®¡ç®—æ€»é”€é‡ï¼‰ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mt-1">2</div>
                                <div>
                                    <p class="font-semibold"><strong>æ‰§è¡Œé˜¶æ®µ</strong></p>
                                    <p class="text-gray-600 text-sm">ç„¶åï¼Œä¸¥æ ¼æŒ‰ç…§è®¡åˆ’ï¼Œä¸€æ­¥æ­¥æ‰§è¡Œè®¡ç®—ï¼Œå¹¶å°†æ¯ä¸€æ­¥çš„ç»“æœä½œä¸ºä¸‹ä¸€æ­¥çš„è¾“å…¥ï¼Œæœ€ç»ˆå¾—å‡ºæ€»å’Œã€‚</p>
                                </div>
                            </div>
                        </div>

                        <div class="code-block">
                            <pre><code class="language-python">PLANNER_PROMPT_TEMPLATE = """
ä½ æ˜¯ä¸€ä¸ªé¡¶çº§çš„AIè§„åˆ’ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯å°†ç”¨æˆ·æå‡ºçš„å¤æ‚é—®é¢˜åˆ†è§£æˆä¸€ä¸ªç”±å¤šä¸ªç®€å•æ­¥éª¤ç»„æˆçš„è¡ŒåŠ¨è®¡åˆ’ã€‚
è¯·ç¡®ä¿è®¡åˆ’ä¸­çš„æ¯ä¸ªæ­¥éª¤éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ã€å¯æ‰§è¡Œçš„å­ä»»åŠ¡ï¼Œå¹¶ä¸”ä¸¥æ ¼æŒ‰ç…§é€»è¾‘é¡ºåºæ’åˆ—ã€‚
ä½ çš„è¾“å‡ºå¿…é¡»æ˜¯ä¸€ä¸ªPythonåˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæè¿°å­ä»»åŠ¡çš„å­—ç¬¦ä¸²ã€‚

é—®é¢˜: {question}

è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡ºä½ çš„è®¡åˆ’,```pythonä¸```ä½œä¸ºå‰åç¼€æ˜¯å¿…è¦çš„:
```python
["æ­¥éª¤1", "æ­¥éª¤2", "æ­¥éª¤3", ...]
```
"""</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reflection èŒƒå¼ -->
        <section id="reflection" class="py-16 bg-white">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto">
                    <h2 class="text-3xl font-bold mb-8 text-center">4.4 Reflection</h2>

                    <div class="mb-12">
                        <p class="text-lg text-gray-700 mb-6">
                            åœ¨æˆ‘ä»¬å·²ç»å®ç°çš„ ReAct å’Œ Plan-and-Solve èŒƒå¼ä¸­ï¼Œæ™ºèƒ½ä½“ä¸€æ—¦å®Œæˆäº†ä»»åŠ¡ï¼Œå…¶å·¥ä½œæµç¨‹ä¾¿å‘Šç»“æŸã€‚ç„¶è€Œï¼Œå®ƒä»¬ç”Ÿæˆçš„åˆå§‹ç­”æ¡ˆï¼Œæ— è®ºæ˜¯è¡ŒåŠ¨è½¨è¿¹è¿˜æ˜¯æœ€ç»ˆç»“æœï¼Œéƒ½å¯èƒ½å­˜åœ¨è°¬è¯¯æˆ–æœ‰å¾…æ”¹è¿›ä¹‹å¤„ã€‚Reflection æœºåˆ¶çš„æ ¸å¿ƒæ€æƒ³ï¼Œæ­£æ˜¯ä¸ºæ™ºèƒ½ä½“å¼•å…¥ä¸€ç§<strong>äº‹åï¼ˆpost-hocï¼‰çš„è‡ªæˆ‘æ ¡æ­£å¾ªç¯</strong>ï¼Œä½¿å…¶èƒ½å¤Ÿåƒäººç±»ä¸€æ ·ï¼Œå®¡è§†è‡ªå·±çš„å·¥ä½œï¼Œå‘ç°ä¸è¶³ï¼Œå¹¶è¿›è¡Œè¿­ä»£ä¼˜åŒ–ã€‚
                        </p>
                    </div>

                    <!-- Reflection æ ¸å¿ƒæ€æƒ³ -->
                    <div class="bg-purple-50 rounded-xl p-8 mb-8">
                        <h3 class="text-2xl font-bold mb-6">4.4.1 Reflection æœºåˆ¶çš„æ ¸å¿ƒæ€æƒ³</h3>
                        <div class="space-y-6">
                            <div>
                                <p class="text-gray-700 mb-4">
                                    Reflection æœºåˆ¶çš„çµæ„Ÿæ¥æºäºäººç±»çš„å­¦ä¹ è¿‡ç¨‹ï¼šæˆ‘ä»¬å®Œæˆåˆç¨¿åä¼šè¿›è¡Œæ ¡å¯¹ï¼Œè§£å‡ºæ•°å­¦é¢˜åä¼šè¿›è¡ŒéªŒç®—ã€‚è¿™ä¸€æ€æƒ³åœ¨å¤šä¸ªç ”ç©¶ä¸­å¾—åˆ°äº†ä½“ç°ï¼Œä¾‹å¦‚ Shinn, Noah åœ¨2023å¹´æå‡ºçš„ Reflexion æ¡†æ¶<sup>[3]</sup>ã€‚å…¶æ ¸å¿ƒå·¥ä½œæµç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºä¸€ä¸ªç®€æ´çš„ä¸‰æ­¥å¾ªç¯ï¼š<strong>æ‰§è¡Œ -> åæ€ -> ä¼˜åŒ–</strong>ã€‚
                                </p>
                            </div>

                            <div class="grid md:grid-cols-3 gap-6 mb-6">
                                <div class="bg-white rounded-lg shadow-md p-6 text-center">
                                    <div class="text-orange-600 text-3xl mb-4">ğŸ¯</div>
                                    <h4 class="font-bold mb-2">æ‰§è¡Œ (Execution)</h4>
                                    <p class="text-gray-600 text-sm">
                                        é¦–å…ˆï¼Œæ™ºèƒ½ä½“ä½¿ç”¨ç†Ÿæ‚‰çš„æ–¹æ³•å°è¯•å®Œæˆä»»åŠ¡ï¼Œç”Ÿæˆä¸€ä¸ªåˆæ­¥çš„è§£å†³æ–¹æ¡ˆ
                                    </p>
                                </div>
                                <div class="bg-white rounded-lg shadow-md p-6 text-center">
                                    <div class="text-yellow-600 text-3xl mb-4">ğŸ¤”</div>
                                    <h4 class="font-bold mb-2">åæ€ (Reflection)</h4>
                                    <p class="text-gray-600 text-sm">
                                        æ¥ç€ï¼Œæ™ºèƒ½ä½“è¿›å…¥åæ€é˜¶æ®µï¼Œæ‰®æ¼”"è¯„å®¡å‘˜"è§’è‰²ï¼Œå®¡è§†åˆç¨¿å¹¶ç”Ÿæˆç»“æ„åŒ–åé¦ˆ
                                    </p>
                                </div>
                                <div class="bg-white rounded-lg shadow-md p-6 text-center">
                                    <div class="text-green-600 text-3xl mb-4">âš¡</div>
                                    <h4 class="font-bold mb-2">ä¼˜åŒ– (Refinement)</h4>
                                    <p class="text-gray-600 text-sm">
                                        æœ€åï¼Œæ™ºèƒ½ä½“å°†"åˆç¨¿"å’Œ"åé¦ˆ"ä½œä¸ºæ–°ä¸Šä¸‹æ–‡ï¼Œç”Ÿæˆæ›´å®Œå–„çš„"ä¿®è®¢ç¨¿"
                                    </p>
                                </div>
                            </div>

                            <p class="text-gray-700 mb-6">
                                å¦‚å›¾4.3æ‰€ç¤ºï¼Œè¿™ä¸ªå¾ªç¯å¯ä»¥é‡å¤è¿›è¡Œå¤šæ¬¡ï¼Œç›´åˆ°åæ€é˜¶æ®µä¸å†å‘ç°æ–°çš„é—®é¢˜ï¼Œæˆ–è€…è¾¾åˆ°é¢„è®¾çš„è¿­ä»£æ¬¡æ•°ä¸Šé™ã€‚æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªè¿­ä»£ä¼˜åŒ–çš„è¿‡ç¨‹å½¢å¼åŒ–åœ°è¡¨è¾¾å‡ºæ¥ã€‚å‡è®¾ $O_i$ æ˜¯ç¬¬ $i$ æ¬¡è¿­ä»£äº§ç”Ÿçš„è¾“å‡ºï¼ˆ$O_0$ ä¸ºåˆå§‹è¾“å‡ºï¼‰ï¼Œåæ€æ¨¡å‹ $\pi_{\text{reflect}}$ ä¼šç”Ÿæˆé’ˆå¯¹ $O_i$ çš„åé¦ˆ $F_i$ï¼š
                            </p>
                        </div>
                    </div>

                    <!-- æ•°å­¦å…¬å¼ -->
                    <div class="bg-gray-50 rounded-xl p-8 mb-8">
                        <div class="formula">
                            $$F_i = \pi_{\text{reflect}}(\text{Task}, O_i)$$
                        </div>
                        <p class="text-gray-700 mb-4 mt-4">
                            éšåï¼Œä¼˜åŒ–æ¨¡å‹ $\pi_{\text{refine}}$ ä¼šç»“åˆåŸå§‹ä»»åŠ¡ã€ä¸Šä¸€ç‰ˆè¾“å‡ºä»¥åŠåé¦ˆï¼Œç”Ÿæˆæ–°ä¸€ç‰ˆçš„è¾“å‡º $O_{i+1}$ï¼š
                        </p>
                        <div class="formula">
                            $$O_{i+1} = \pi_{\text{refine}}(\text{Task}, O_i, F_i)$$
                        </div>
                    </div>

                    <!-- Reflection å›¾ç‰‡ -->
                    <div class="text-center mb-12">
                        <img src="../docs/images/4-figures/03.png" alt="Reflectionæœºåˆ¶ä¸­çš„"æ‰§è¡Œ-åæ€-ä¼˜åŒ–"è¿­ä»£å¾ªç¯" class="mx-auto rounded-lg shadow-lg max-w-full">
                        <p class="text-gray-600 mt-4">å›¾ 4.3 Reflection æœºåˆ¶ä¸­çš„"æ‰§è¡Œ-åæ€-ä¼˜åŒ–"è¿­ä»£å¾ªç¯</p>
                    </div>

                    <!-- æ¡ˆä¾‹è®¾å®š -->
                    <div class="bg-gray-50 rounded-xl p-8 mb-8">
                        <h4 class="text-xl font-bold mb-4">4.4.2 æ¡ˆä¾‹è®¾å®šä¸è®°å¿†æ¨¡å—è®¾è®¡</h4>
                        <p class="text-gray-700 mb-6">
                            ä¸ºäº†åœ¨å®æˆ˜ä¸­ä½“ç° Reflection æœºåˆ¶ï¼Œæˆ‘ä»¬å°†å¼•å…¥è®°å¿†ç®¡ç†æœºåˆ¶ï¼Œå› ä¸ºreflectioné€šå¸¸å¯¹åº”ç€ä¿¡æ¯çš„å­˜å‚¨å’Œæå–ï¼Œå¦‚æœä¸Šä¸‹æ–‡è¶³å¤Ÿé•¿çš„æƒ…å†µï¼Œæƒ³è®©"è¯„å®¡å‘˜"ç›´æ¥è·å–æ‰€æœ‰çš„ä¿¡æ¯ç„¶åè¿›è¡Œåæ€å¾€å¾€ä¼šä¼ å…¥å¾ˆå¤šå†—ä½™ä¿¡æ¯ã€‚è¿™ä¸€æ­¥å®è·µæˆ‘ä»¬ä¸»è¦å®Œæˆ<strong>ä»£ç ç”Ÿæˆä¸è¿­ä»£ä¼˜åŒ–</strong>ã€‚
                        </p>

                        <div class="bg-yellow-50 rounded-lg p-6 mb-6">
                            <h4 class="font-bold mb-2 text-yellow-800">ç›®æ ‡ä»»åŠ¡</h4>
                            <p class="text-gray-700">
                                "ç¼–å†™ä¸€ä¸ªPythonå‡½æ•°ï¼Œæ‰¾å‡º1åˆ°nä¹‹é—´æ‰€æœ‰çš„ç´ æ•° (prime numbers)ã€‚"
                            </p>
                        </div>

                        <div class="space-y-4 mb-6">
                            <div class="flex items-start space-x-3">
                                <div class="bg-orange-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mt-1">1</div>
                                <div>
                                    <p class="font-semibold">å­˜åœ¨æ˜ç¡®çš„ä¼˜åŒ–è·¯å¾„</p>
                                    <p class="text-gray-600 text-sm">å¤§è¯­è¨€æ¨¡å‹åˆæ¬¡ç”Ÿæˆçš„ä»£ç å¾ˆå¯èƒ½æ˜¯ä¸€ä¸ªç®€å•ä½†æ•ˆç‡ä½ä¸‹çš„é€’å½’å®ç°ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="bg-orange-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mt-1">2</div>
                                <div>
                                    <p class="font-semibold">åæ€ç‚¹æ¸…æ™°</p>
                                    <p class="text-gray-600 text-sm">å¯ä»¥é€šè¿‡åæ€å‘ç°å…¶"æ—¶é—´å¤æ‚åº¦è¿‡é«˜"æˆ–"å­˜åœ¨é‡å¤è®¡ç®—"çš„é—®é¢˜ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="bg-orange-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mt-1">3</div>
                                <div>
                                    <p class="font-semibold">ä¼˜åŒ–æ–¹å‘æ˜ç¡®</p>
                                    <p class="text-gray-600 text-sm">å¯ä»¥æ ¹æ®åé¦ˆï¼Œå°†å…¶ä¼˜åŒ–ä¸ºæ›´é«˜æ•ˆçš„è¿­ä»£ç‰ˆæœ¬æˆ–ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼çš„ç‰ˆæœ¬ã€‚</p>
                                </div>
                            </div>
                        </div>

                        <p class="text-gray-700 mb-6">
                            Reflection çš„æ ¸å¿ƒåœ¨äºè¿­ä»£ï¼Œè€Œè¿­ä»£çš„å‰ææ˜¯èƒ½å¤Ÿè®°ä½ä¹‹å‰çš„å°è¯•å’Œè·å¾—çš„åé¦ˆã€‚å› æ­¤ï¼Œä¸€ä¸ª"çŸ­æœŸè®°å¿†"æ¨¡å—æ˜¯å®ç°è¯¥èŒƒå¼çš„å¿…éœ€å“ã€‚è¿™ä¸ªè®°å¿†æ¨¡å—å°†è´Ÿè´£å­˜å‚¨æ¯ä¸€æ¬¡"æ‰§è¡Œ-åæ€"å¾ªç¯çš„å®Œæ•´è½¨è¿¹ã€‚
                        </p>

                        <div class="code-block">
                            <pre><code class="language-python">from typing import List, Dict, Any, Optional

class Memory:
    """
    ä¸€ä¸ªç®€å•çš„çŸ­æœŸè®°å¿†æ¨¡å—ï¼Œç”¨äºå­˜å‚¨æ™ºèƒ½ä½“çš„è¡ŒåŠ¨ä¸åæ€è½¨è¿¹ã€‚
    """

    def __init__(self):
        """
        åˆå§‹åŒ–ä¸€ä¸ªç©ºåˆ—è¡¨æ¥å­˜å‚¨æ‰€æœ‰è®°å½•ã€‚
        """
        self.records: List[Dict[str, Any]] = []

    def add_record(self, record_type: str, content: str):
        """
        å‘è®°å¿†ä¸­æ·»åŠ ä¸€æ¡æ–°è®°å½•ã€‚
        """
        record = {"type": record_type, "content": content}
        self.records.append(record)
        print(f"ğŸ“ è®°å¿†å·²æ›´æ–°ï¼Œæ–°å¢ä¸€æ¡ '{record_type}' è®°å½•ã€‚")

    def get_trajectory(self) -> str:
        """
        å°†æ‰€æœ‰è®°å¿†è®°å½•æ ¼å¼åŒ–ä¸ºä¸€ä¸ªè¿è´¯çš„å­—ç¬¦ä¸²æ–‡æœ¬ï¼Œç”¨äºæ„å»ºæç¤ºè¯ã€‚
        """
        trajectory_parts = []
        for record in self.records:
            if record['type'] == 'execution':
                trajectory_parts.append(f"--- ä¸Šä¸€è½®å°è¯• (ä»£ç ) ---\n{record['content']}")
            elif record['type'] == 'reflection':
                trajectory_parts.append(f"--- è¯„å®¡å‘˜åé¦ˆ ---\n{record['content']}")

        return "\n\n".join(trajectory_parts)

    def get_last_execution(self) -> Optional[str]:
        """
        è·å–æœ€è¿‘ä¸€æ¬¡çš„æ‰§è¡Œç»“æœã€‚
        """
        for record in reversed(self.records):
            if record['type'] == 'execution':
                return record['content']
        return None</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- èŒƒå¼å¯¹æ¯” -->
        <section class="py-16 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto">
                    <h2 class="text-3xl font-bold mb-8 text-center">4.5 æœ¬ç« å°ç»“</h2>

                    <div class="bg-white rounded-xl shadow-lg p-8">
                        <div class="prose prose-lg max-w-none">
                            <p class="text-gray-700 mb-6">
                                åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡"äº²æ‰‹é€ è½®å­"çš„æ–¹å¼ï¼Œä»é›¶å¼€å§‹ç¼–ç å®ç°äº†ä¸‰ç§ä¸šç•Œç»å…¸çš„æ™ºèƒ½ä½“æ„å»ºèŒƒå¼ï¼šReActã€Plan-and-Solve ä¸ Reflectionã€‚æˆ‘ä»¬ä¸ä»…æ¢ç´¢äº†å®ƒä»¬çš„æ ¸å¿ƒå·¥ä½œåŸç†ï¼Œè¿˜é€šè¿‡å…·ä½“çš„å®æˆ˜æ¡ˆä¾‹ï¼Œæ·±å…¥äº†è§£äº†å„è‡ªçš„ä¼˜åŠ¿ã€å±€é™ä¸é€‚ç”¨åœºæ™¯ã€‚
                            </p>

                            <h3 class="text-2xl font-bold mb-6">æ ¸å¿ƒçŸ¥è¯†ç‚¹å›é¡¾</h3>

                            <div class="grid md:grid-cols-3 gap-8 mb-12">
                                <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6">
                                    <h4 class="font-bold text-lg mb-4 text-blue-800">ReAct</h4>
                                    <ul class="space-y-2 text-blue-700">
                                        <li>â€¢ "æ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿ"åŠ¨æ€å¾ªç¯</li>
                                        <li>â€¢ ç¯å¢ƒé€‚åº”æ€§å¼º</li>
                                        <li>â€¢ åŠ¨æ€çº é”™èƒ½åŠ›</li>
                                        <li>â€¢ é€‚åˆæ¢ç´¢æ€§ä»»åŠ¡</li>
                                    </ul>
                                </div>

                                <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6">
                                    <h4 class="font-bold text-lg mb-4 text-green-800">Plan-and-Solve</h4>
                                    <ul class="space-y-2 text-green-700">
                                        <li>â€¢ å…ˆè§„åˆ’åæ‰§è¡Œ</li>
                                        <li>â€¢ ç»“æ„æ€§å¼º</li>
                                        <li>â€¢ ç¨³å®šæ€§é«˜</li>
                                        <li>â€¢ é€‚åˆé€»è¾‘ç¡®å®šä»»åŠ¡</li>
                                    </ul>
                                </div>

                                <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6">
                                    <h4 class="font-bold text-lg mb-4 text-purple-800">Reflection</h4>
                                    <ul class="space-y-2 text-purple-700">
                                        <li>â€¢ "æ‰§è¡Œ-åæ€-ä¼˜åŒ–"å¾ªç¯</li>
                                        <li>â€¢ è´¨é‡æå‡æ˜¾è‘—</li>
                                        <li>â€¢ å¯é æ€§å¢å¼º</li>
                                        <li>â€¢ é€‚åˆé«˜è´¨é‡è¦æ±‚åœºæ™¯</li>
                                    </ul>
                                </div>
                            </div>

                            <h3 class="text-2xl font-bold mb-6">é€‰æ‹©å»ºè®®</h3>
                            <p class="text-gray-700 mb-6">
                                åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€‰æ‹©å“ªä¸€ç§èŒƒå¼ï¼Œå–å†³äºä»»åŠ¡çš„æ ¸å¿ƒéœ€æ±‚ï¼š
                            </p>

                            <div class="bg-gray-50 rounded-xl p-8">
                                <div class="space-y-4">
                                    <div class="flex items-start space-x-3">
                                        <div class="bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mt-1">âœ“</div>
                                        <div>
                                            <strong class="text-gray-800">éœ€è¦ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’</strong>
                                            <p class="text-gray-600">é€‰æ‹© ReActï¼Œåˆ©ç”¨å…¶åŠ¨æ€è§„åˆ’å’Œå·¥å…·è°ƒç”¨èƒ½åŠ›</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start space-x-3">
                                        <div class="bg-green-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mt-1">âœ“</div>
                                        <div>
                                            <strong class="text-gray-800">éœ€è¦ç»“æ„åŒ–æ¨ç†</strong>
                                            <p class="text-gray-600">é€‰æ‹© Plan-and-Solveï¼Œç¡®ä¿é€»è¾‘æ¸…æ™°å’Œæ­¥éª¤æ˜ç¡®</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start space-x-3">
                                        <div class="bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mt-1">âœ“</div>
                                        <div>
                                            <strong class="text-gray-800">è¿½æ±‚æœ€é«˜è´¨é‡</strong>
                                            <p class="text-gray-600">é€‰æ‹© Reflectionï¼Œé€šè¿‡è¿­ä»£ä¼˜åŒ–æå‡è§£å†³æ–¹æ¡ˆè´¨é‡</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- èŒƒå¼å¯¹æ¯”è¡¨æ ¼ -->
                    <div class="text-center mb-8">
                        <img src="../docs/images/4-figures/04.png" alt="ä¸åŒ Agent Loop çš„é€‰æ‹©ç­–ç•¥" class="mx-auto rounded-lg shadow-lg max-w-full">
                        <p class="text-gray-600 mt-4">è¡¨ 4.1 ä¸åŒ Agent Loop çš„é€‰æ‹©ç­–ç•¥</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
        <div class="fixed bottom-8 right-8 bg-white rounded-full shadow-lg p-4" x-show="showProgress">
            <div class="text-center">
                <div class="text-sm text-gray-600 mb-2">é˜…è¯»è¿›åº¦</div>
                <div class="progress-bar w-32">
                    <div class="progress-fill" :style="`width: ${progress}%`"></div>
                </div>
                <div class="text-xs text-gray-500 mt-1">
                    <span x-text="Math.round(progress)"></span>%
                </div>
            </div>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-6">
            <div class="text-center">
                <h3 class="text-2xl font-bold mb-4">Hello Agents</h3>
                <p class="text-gray-400 mb-6">ä»ç†è®ºåˆ°å®è·µï¼Œæ„å»ºæ™ºèƒ½ä½“çš„å®Œæ•´æŒ‡å—</p>
                <div class="flex justify-center space-x-6">
                    <a href="#" class="text-gray-400 hover:text-white transition">GitHub</a>
                    <a href="#" class="text-gray-400 hover:text-white transition">æ–‡æ¡£</a>
                    <a href="#" class="text-gray-400 hover:text-white transition">ç¤¾åŒº</a>
                </div>
                <div class="mt-8 pt-8 border-t border-gray-800 text-gray-500 text-sm">
                    Â© 2024 Hello Agents. æ„å»ºæ™ºèƒ½ä½“çš„æœªæ¥ã€‚
                </div>
            </div>
        </div>
    </footer>

    <script>
        function chapterApp() {
            return {
                darkMode: false,
                showProgress: false,
                progress: 0,

                toggleDarkMode() {
                    this.darkMode = !this.darkMode;
                    // åˆ‡æ¢æ•´ä¸ªæ–‡æ¡£çš„æš—è‰²æ¨¡å¼ç±»
                    document.documentElement.classList.toggle('dark-mode');
                    document.body.classList.toggle('dark-mode');
                    
                    // ä¿å­˜ç”¨æˆ·åå¥½åˆ°localStorage
                    localStorage.setItem('darkMode', this.darkMode);
                },

                init() {
                    // ä»localStorageè¯»å–ç”¨æˆ·åå¥½
                    const savedDarkMode = localStorage.getItem('darkMode');
                    if (savedDarkMode !== null) {
                        this.darkMode = savedDarkMode === 'true';
                    } else {
                        // å¦‚æœæ²¡æœ‰ä¿å­˜çš„åå¥½ï¼Œæ£€æŸ¥ç³»ç»Ÿåå¥½
                        this.darkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
                    }
                    
                    // åº”ç”¨åˆå§‹æš—è‰²æ¨¡å¼çŠ¶æ€
                    if (this.darkMode) {
                        document.documentElement.classList.add('dark-mode');
                        document.body.classList.add('dark-mode');
                    }

                    this.updateProgress();
                    this.handleScroll();

                    // ç›‘å¬æ»šåŠ¨äº‹ä»¶
                    window.addEventListener('scroll', () => {
                        this.handleScroll();
                        this.updateProgress();
                    });
                },

                handleScroll() {
                    // æ˜¾ç¤º/éšè—è¿›åº¦æŒ‡ç¤ºå™¨
                    this.showProgress = window.scrollY > 500;
                },

                updateProgress() {
                    // è®¡ç®—é˜…è¯»è¿›åº¦
                    const scrollTop = window.scrollY;
                    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                    this.progress = Math.min(100, (scrollTop / docHeight) * 100);
                }
            }
        }

        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–ä»£ç é«˜äº®
        document.addEventListener('DOMContentLoaded', function() {
            // é‡æ–°åˆå§‹åŒ–ä»£ç é«˜äº®
            if (typeof Prism !== 'undefined') {
                Prism.highlightAll();
            }
        });
    </script>
</body>
</html>